import{I as j,M as L,aT as oe,_ as re,d as I,as as Y,a3 as G,ax as J,O as H,c as P,an as k,ai as Z,b0 as ce,m as ee,i as te,n as ie,l as S,S as he,bj as A,bk as ae,bl as ge,bm as ye,P as D,o as ue,bg as Ne,k as l,R as U,aP as Te,aQ as Pe,aW as Ee,a5 as K,r as de,at as we,$ as xe,bn as $e,V as be,a7 as ve,aH as se,a8 as Be,a9 as Ce,aL as Se,bo as ne,bp as ke,ae as Oe,aN as Re,U as Fe,X as ze,ap as Ae,w as X}from"./index-f8cee77c.js";import Ve from"./lineDemo-1f033fb3.js";import Me from"./pieDemo-880a4e29.js";import{_ as Le}from"./plugin-vue_export-helper-c27b6911.js";const W=Symbol("tabsRootContextKey"),De=j({tabs:{type:L(Array),default:()=>oe([])}}),Ie={name:"ElTabBar"},Ue=I({...Ie,props:De,setup(e,{expose:o}){const $=e,p="ElTabBar",a=Y(),_=G(W);_||J(p,"<el-tabs><el-tab-bar /></el-tabs>");const v=H("tabs"),u=P(),h=P(),d=()=>{let r=0,x=0;const g=["top","bottom"].includes(_.props.tabPosition)?"width":"height",c=g==="width"?"x":"y";return $.tabs.every(t=>{var y,f,B,O;const R=(f=(y=a.parent)==null?void 0:y.refs)==null?void 0:f[`tab-${t.paneName}`];if(!R)return!1;if(!t.active)return!0;x=R[`client${A(g)}`];const V=c==="x"?"left":"top";r=R.getBoundingClientRect()[V]-((O=(B=R.parentElement)==null?void 0:B.getBoundingClientRect()[V])!=null?O:0);const F=window.getComputedStyle(R);return g==="width"&&($.tabs.length>1&&(x-=Number.parseFloat(F.paddingLeft)+Number.parseFloat(F.paddingRight)),r+=Number.parseFloat(F.paddingLeft)),!1}),{[g]:`${x}px`,transform:`translate${A(c)}(${r}px)`}},b=()=>h.value=d();return k(()=>$.tabs,async()=>{await Z(),b()},{immediate:!0}),ce(u,()=>b()),o({ref:u,update:b}),(r,x)=>(ee(),te("div",{ref_key:"barRef",ref:u,class:ie([S(v).e("active-bar"),S(v).is(S(_).props.tabPosition)]),style:he(h.value)},null,6))}});var Ke=re(Ue,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-bar.vue"]]);const je=j({panes:{type:L(Array),default:()=>oe([])},currentName:{type:[String,Number],default:""},editable:Boolean,onTabClick:{type:L(Function),default:ae},onTabRemove:{type:L(Function),default:ae},type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),le="ElTabNav",He=I({name:le,props:je,setup(e,{expose:o}){const $=Y(),p=G(W);p||J(le,"<el-tabs><tab-nav /></el-tabs>");const a=H("tabs"),_=ge(),v=ye(),u=P(),h=P(),d=P(),b=P(!1),r=P(0),x=P(!1),g=P(!0),c=D(()=>["top","bottom"].includes(p.props.tabPosition)?"width":"height"),t=D(()=>({transform:`translate${c.value==="width"?"X":"Y"}(-${r.value}px)`})),y=()=>{if(!u.value)return;const s=u.value[`offset${A(c.value)}`],i=r.value;if(!i)return;const n=i>s?i-s:0;r.value=n},f=()=>{if(!u.value||!h.value)return;const s=h.value[`offset${A(c.value)}`],i=u.value[`offset${A(c.value)}`],n=r.value;if(s-n<=i)return;const E=s-n>i*2?n+i:s-i;r.value=E},B=async()=>{const s=h.value;if(!b.value||!d.value||!u.value||!s)return;await Z();const i=d.value.querySelector(".is-active");if(!i)return;const n=u.value,E=["top","bottom"].includes(p.props.tabPosition),T=i.getBoundingClientRect(),N=n.getBoundingClientRect(),C=E?s.offsetWidth-N.width:s.offsetHeight-N.height,w=r.value;let m=w;E?(T.left<N.left&&(m=w-(N.left-T.left)),T.right>N.right&&(m=w+T.right-N.right)):(T.top<N.top&&(m=w-(N.top-T.top)),T.bottom>N.bottom&&(m=w+(T.bottom-N.bottom))),m=Math.max(m,0),r.value=Math.min(m,C)},O=()=>{if(!h.value||!u.value)return;const s=h.value[`offset${A(c.value)}`],i=u.value[`offset${A(c.value)}`],n=r.value;if(i<s){const E=r.value;b.value=b.value||{},b.value.prev=E,b.value.next=E+i<s,s-E<i&&(r.value=s-i)}else b.value=!1,n>0&&(r.value=0)},R=s=>{const i=s.code,{up:n,down:E,left:T,right:N}=K;if(![n,E,T,N].includes(i))return;const C=Array.from(s.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)")),w=C.indexOf(s.target);let m;i===T||i===n?w===0?m=C.length-1:m=w-1:w<C.length-1?m=w+1:m=0,C[m].focus(),C[m].click(),V()},V=()=>{g.value&&(x.value=!0)},F=()=>x.value=!1;return k(_,s=>{s==="hidden"?g.value=!1:s==="visible"&&setTimeout(()=>g.value=!0,50)}),k(v,s=>{s?setTimeout(()=>g.value=!0,50):g.value=!1}),ce(d,O),ue(()=>setTimeout(()=>B(),0)),Ne(()=>O()),o({scrollToActiveTab:B,removeFocus:F}),k(()=>e.panes,()=>$.update(),{flush:"post"}),()=>{const s=b.value?[l("span",{class:[a.e("nav-prev"),a.is("disabled",!b.value.prev)],onClick:y},[l(U,null,{default:()=>[l(Te,null,null)]})]),l("span",{class:[a.e("nav-next"),a.is("disabled",!b.value.next)],onClick:f},[l(U,null,{default:()=>[l(Pe,null,null)]})])]:null,i=e.panes.map((n,E)=>{var T,N,C,w;const m=n.props.disabled,M=(N=(T=n.props.name)!=null?T:n.index)!=null?N:`${E}`,q=!m&&(n.isClosable||e.editable);n.index=`${E}`;const me=q?l(U,{class:"is-icon-close",onClick:z=>e.onTabRemove(n,z)},{default:()=>[l(Ee,null,null)]}):null,pe=((w=(C=n.slots).label)==null?void 0:w.call(C))||n.props.label,_e=!m&&n.active?0:-1;return l("div",{ref:`tab-${M}`,class:[a.e("item"),a.is(p.props.tabPosition),a.is("active",n.active),a.is("disabled",m),a.is("closable",q),a.is("focus",x.value)],id:`tab-${M}`,key:`tab-${M}`,"aria-controls":`pane-${M}`,role:"tab","aria-selected":n.active,tabindex:_e,onFocus:()=>V(),onBlur:()=>F(),onClick:z=>{F(),e.onTabClick(n,M,z)},onKeydown:z=>{q&&(z.code===K.delete||z.code===K.backspace)&&e.onTabRemove(n,z)}},[pe,me])});return l("div",{ref:d,class:[a.e("nav-wrap"),a.is("scrollable",!!b.value),a.is(p.props.tabPosition)]},[s,l("div",{class:a.e("nav-scroll"),ref:u},[l("div",{class:[a.e("nav"),a.is(p.props.tabPosition),a.is("stretch",e.stretch&&["top","bottom"].includes(p.props.tabPosition))],ref:h,style:t.value,role:"tablist",onKeydown:R},[e.type?null:l(Ke,{tabs:[...e.panes]},null),i])])])}}}),We=j({type:{type:String,values:["card","border-card",""],default:""},activeName:{type:[String,Number]},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:L(Function),default:()=>!0},stretch:Boolean}),Q=e=>Be(e)||Ce(e),qe={[ve]:e=>Q(e),"tab-click":(e,o)=>o instanceof Event,"tab-change":e=>Q(e),edit:(e,o)=>["remove","add"].includes(o),"tab-remove":e=>Q(e),"tab-add":()=>!0};var Xe=I({name:"ElTabs",props:We,emits:qe,setup(e,{emit:o,slots:$,expose:p}){var a,_;const v=H("tabs"),u=P(),h=de({}),d=P((_=(a=e.modelValue)!=null?a:e.activeName)!=null?_:"0"),b=t=>{d.value=t,o(ve,t),o("tab-change",t)},r=async t=>{var y,f,B;if(!(d.value===t||se(t)))try{await((y=e.beforeLeave)==null?void 0:y.call(e,t,d.value))!==!1&&(b(t),(B=(f=u.value)==null?void 0:f.removeFocus)==null||B.call(f))}catch{}},x=(t,y,f)=>{t.props.disabled||(r(y),o("tab-click",t,f))},g=(t,y)=>{t.props.disabled||se(t.props.name)||(y.stopPropagation(),o("edit",t.props.name,"remove"),o("tab-remove",t.props.name))},c=()=>{o("edit",void 0,"add"),o("tab-add")};return we({from:'"activeName"',replacement:'"model-value" or "v-model"',scope:"ElTabs",version:"2.3.0",ref:"https://element-plus.org/en-US/component/tabs.html#attributes",type:"Attribute"},D(()=>!!e.activeName)),k(()=>e.activeName,t=>r(t)),k(()=>e.modelValue,t=>r(t)),k(d,async()=>{var t;await Z(),(t=u.value)==null||t.scrollToActiveTab()}),xe(W,{props:e,currentName:d,registerPane:f=>h[f.uid]=f,unregisterPane:f=>delete h[f]}),p({currentName:d}),()=>{const t=e.editable||e.addable?l("span",{class:v.e("new-tab"),tabindex:"0",onClick:c,onKeydown:B=>{B.code===K.enter&&c()}},[l(U,{class:v.is("icon-plus")},{default:()=>[l($e,null,null)]})]):null,y=l("div",{class:[v.e("header"),v.is(e.tabPosition)]},[t,l(He,{ref:u,currentName:d.value,editable:e.editable,type:e.type,panes:Object.values(h),stretch:e.stretch,onTabClick:x,onTabRemove:g},null)]),f=l("div",{class:v.e("content")},[be($,"default")]);return l("div",{class:[v.b(),v.m(e.tabPosition),{[v.m("card")]:e.type==="card",[v.m("border-card")]:e.type==="border-card"}]},[...e.tabPosition!=="bottom"?[y,f]:[f,y]])}}});const Qe=j({label:{type:String,default:""},name:{type:[String,Number]},closable:Boolean,disabled:Boolean,lazy:Boolean}),Ye=["id","aria-hidden","aria-labelledby"],Ge={name:"ElTabPane"},Je=I({...Ge,props:Qe,setup(e){const o=e,$="ElTabPane",p=Y(),a=Se(),_=G(W);_||J($,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const v=H("tab-pane"),u=P(),h=D(()=>o.closable||_.props.closable),d=ne(()=>{var c;return _.currentName.value===((c=o.name)!=null?c:u.value)}),b=P(d.value),r=D(()=>{var c;return(c=o.name)!=null?c:u.value}),x=ne(()=>!o.lazy||b.value||d.value);k(d,c=>{c&&(b.value=!0)});const g=de({uid:p.uid,slots:a,props:o,paneName:r,active:d,index:u,isClosable:h});return ue(()=>{_.registerPane(g)}),ke(()=>{_.unregisterPane(g.uid)}),(c,t)=>S(x)?Oe((ee(),te("div",{key:0,id:`pane-${S(r)}`,class:ie(S(v).b()),role:"tabpanel","aria-hidden":!S(d),"aria-labelledby":`tab-${S(r)}`},[be(c.$slots,"default")],10,Ye)),[[Re,S(d)]]):Fe("v-if",!0)}});var fe=re(Je,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-pane.vue"]]);const Ze=ze(Xe,{TabPane:fe}),et=Ae(fe);const tt={"m-4":""},at=I({__name:"index",setup(e){const o=P("first");return($,p)=>{const a=et,_=Ze;return ee(),te("div",tt,[l(_,{modelValue:o.value,"onUpdate:modelValue":p[0]||(p[0]=v=>o.value=v)},{default:X(()=>[l(a,{label:"折线图移动到点显示该点tooltip",name:"first"},{default:X(()=>[l(Ve)]),_:1}),l(a,{label:"饼图点击高亮",name:"second"},{default:X(()=>[l(Me)]),_:1})]),_:1},8,["modelValue"])])}}}),rt=Le(at,[["__scopeId","data-v-77e7eb4a"]]);export{rt as default};
