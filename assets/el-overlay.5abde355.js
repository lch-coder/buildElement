import{Z as q,m as Z,u as $,c5 as G,i as A,b7 as x,V as w,j as Q,k as X,c6 as ee,e as te,aA as T,N as E,O as d,q as oe,d as ne,Y as I,h as le,ah as D,R as se,g as ae,r as C,aB as ce,aC as ue,S as ie,a8 as re,n as de,a1 as F,am as fe,c7 as B,_ as Y,W as L,$ as me,C as _,a2 as pe,bh as v}from"./index.6bf4c466.js";import{P as N}from"./vnode.d2518a4c.js";import{t as ye,U as z}from"./event.c507d8ad.js";import{u as P}from"./el-button.5679ff8b.js";import{g as Ce}from"./scroll.664b7f9c.js";import{b as ve,u as Ee}from"./index.9dfc0d94.js";const je=(...e)=>t=>{e.forEach(o=>{q(o)?o(t):o.value=t})},ge=e=>{Z(e)||ye("[useLockscreen]","You need to pass a ref param to this function");const t=$("popup"),o=G(()=>t.bm("parent","hidden"));if(!A||x(document.body,o.value))return;let n=0,a=!1,c="0";const l=()=>{te(document.body,o.value),a&&(document.body.style.width=c)};w(e,f=>{if(!f){l();return}a=!x(document.body,o.value),a&&(c=document.body.style.width),n=Ce(t.namespace.value);const s=document.documentElement.clientHeight<document.body.scrollHeight,i=Q(document.body,"overflowY");n>0&&(s||i==="scroll")&&a&&(document.body.style.width=`calc(100% - ${n}px)`),X(document.body,o.value)}),ee(()=>l())},Ie=e=>{if(!e)return{onClick:T,onMousedown:T,onMouseup:T};let t=!1,o=!1;return{onClick:l=>{t&&o&&e(l),t=o=!1},onMousedown:l=>{t=l.target===l.currentTarget},onMouseup:l=>{o=l.target===l.currentTarget}}},be=E({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:d([String,Array,Object])},zIndex:{type:d([String,Number])}}),Oe={click:e=>e instanceof MouseEvent};var he=oe({name:"ElOverlay",props:be,emits:Oe,setup(e,{slots:t,emit:o}){const n=$("overlay"),a=s=>{o("click",s)},{onClick:c,onMousedown:l,onMouseup:f}=Ie(e.customMaskEvent?void 0:a);return()=>e.mask?ne("div",{class:[n.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:c,onMousedown:l,onMouseup:f},[I(t,"default")],N.STYLE|N.CLASS|N.PROPS,["onClick","onMouseup","onMousedown"]):le("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[I(t,"default")])}});const Ke=he,Se=E({center:{type:Boolean,default:!1},closeIcon:{type:D,default:""},customClass:{type:String,default:""},draggable:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1},showClose:{type:Boolean,default:!0},title:{type:String,default:""}}),Ve={close:()=>!0},He=E({...Se,appendToBody:{type:Boolean,default:!1},beforeClose:{type:d(Function)},destroyOnClose:{type:Boolean,default:!1},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:{type:Boolean,default:!1},modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1}}),Ue={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[z]:e=>se(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},We=(e,t)=>{const n=fe().emit,{nextZIndex:a}=ae();let c="";const l=P(),f=P(),s=C(!1),i=C(!1),r=C(!1),u=C(e.zIndex||a());let y,p;const b=ce("namespace",ue),j=ie(()=>{const m={},g=`--${b.value}-dialog`;return e.fullscreen||(e.top&&(m[`${g}-margin-top`]=e.top),e.width&&(m[`${g}-width`]=re(e.width))),m});function K(){n("opened")}function V(){n("closed"),n(z,!1),e.destroyOnClose&&(r.value=!1)}function H(){n("close")}function M(){p==null||p(),y==null||y(),e.openDelay&&e.openDelay>0?{stop:y}=B(()=>k(),e.openDelay):k()}function O(){y==null||y(),p==null||p(),e.closeDelay&&e.closeDelay>0?{stop:p}=B(()=>S(),e.closeDelay):S()}function h(){function m(g){g||(i.value=!0,s.value=!1)}e.beforeClose?e.beforeClose(m):O()}function U(){e.closeOnClickModal&&h()}function k(){!A||(s.value=!0)}function S(){s.value=!1}function W(){n("openAutoFocus")}function J(){n("closeAutoFocus")}e.lockScroll&&ge(s);function R(){e.closeOnPressEscape&&h()}return w(()=>e.modelValue,m=>{m?(i.value=!1,M(),r.value=!0,u.value=e.zIndex?u.value++:a(),de(()=>{n("open"),t.value&&(t.value.scrollTop=0)})):s.value&&O()}),w(()=>e.fullscreen,m=>{!t.value||(m?(c=t.value.style.transform,t.value.style.transform=""):t.value.style.transform=c)}),F(()=>{e.modelValue&&(s.value=!0,r.value=!0,M())}),{afterEnter:K,afterLeave:V,beforeLeave:H,handleClose:h,onModalClick:U,close:O,doClose:S,onOpenAutoFocus:W,onCloseAutoFocus:J,onCloseRequested:R,titleId:l,bodyId:f,closed:i,style:j,rendered:r,visible:s,zIndex:u}},Te={inheritAttrs:!1};function _e(e,t,o,n,a,c){return I(e.$slots,"default")}var Ne=Y(Te,[["render",_e],["__file","/home/runner/work/element-plus/element-plus/packages/components/collection/src/collection.vue"]]);const we={name:"ElCollectionItem",inheritAttrs:!1};function Me(e,t,o,n,a,c){return I(e.$slots,"default")}var ke=Y(we,[["render",Me],["__file","/home/runner/work/element-plus/element-plus/packages/components/collection/src/collection-item.vue"]]);const xe="data-el-collection-item",Be=e=>{const t=`El${e}Collection`,o=`${t}Item`,n=Symbol(t),a=Symbol(o),c={...Ne,name:t,setup(){const f=C(null),s=new Map;L(n,{itemMap:s,getItems:()=>{const r=_(f);if(!r)return[];const u=Array.from(r.querySelectorAll(`[${xe}]`));return[...s.values()].sort((p,b)=>u.indexOf(p.ref)-u.indexOf(b.ref))},collectionRef:f})}},l={...ke,name:o,setup(f,{attrs:s}){const i=C(null),r=me(n,void 0);L(a,{collectionItemRef:i}),F(()=>{const u=_(i);u&&r.itemMap.set(u,{ref:u,...s})}),pe(()=>{const u=_(i);r.itemMap.delete(u)})}};return{COLLECTION_INJECTION_KEY:n,COLLECTION_ITEM_INJECTION_KEY:a,ElCollection:c,ElCollectionItem:l}},Je=E({trigger:ve.trigger,effect:{...Ee.effect,default:"light"},type:{type:d(String)},placement:{type:d(String),default:"bottom"},popperOptions:{type:d(Object),default:()=>({})},id:String,size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},loop:{type:Boolean,default:!0},showTimeout:{type:Number,default:150},hideTimeout:{type:Number,default:150},tabindex:{type:d([Number,String]),default:0},maxHeight:{type:d([Number,String]),default:""},popperClass:{type:String,default:""},disabled:{type:Boolean,default:!1},role:{type:String,default:"menu"},buttonProps:{type:d(Object)}}),Re=E({command:{type:[Object,String,Number],default:()=>({})},disabled:Boolean,divided:Boolean,textValue:String,icon:{type:D}}),qe=E({onKeydown:{type:d(Function)}}),Le=[v.down,v.pageDown,v.home],Pe=[v.up,v.pageUp,v.end],Ze=[...Le,...Pe],{ElCollection:Ge,ElCollectionItem:Qe,COLLECTION_INJECTION_KEY:Xe,COLLECTION_ITEM_INJECTION_KEY:et}=Be("Dropdown");export{et as C,Ke as E,Ze as F,Pe as L,Ve as a,He as b,je as c,Se as d,Ue as e,Ie as f,Je as g,Be as h,Ge as i,Re as j,xe as k,Qe as l,qe as m,Xe as n,We as u};
