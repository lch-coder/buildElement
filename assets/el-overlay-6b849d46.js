import{aS as J,I as E,K as w,M as i,a7 as M,aa as U,as as q,c7 as G,aj as h,f as m,cD as Z,cE as H,P as Q,Q as R,cF as W,an as B,ai as X,o as P,cl as L,b3 as ee,_ as x,V as A,$,a3 as te,m as N,i as oe,a5 as y}from"./index-14d59091.js";import{a as le,u as ne}from"./index-842a6ada.js";const Ie=(...e)=>t=>{e.forEach(a=>{J(a)?a(t):a.value=t})},se=E({center:{type:Boolean,default:!1},closeIcon:{type:w,default:""},customClass:{type:String,default:""},draggable:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1},showClose:{type:Boolean,default:!0},title:{type:String,default:""}}),_e={close:()=>!0},ve=E({...se,appendToBody:{type:Boolean,default:!1},beforeClose:{type:i(Function)},destroyOnClose:{type:Boolean,default:!1},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:{type:Boolean,default:!1},modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1}}),ge={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[M]:e=>U(e),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},Oe=(e,t)=>{const o=q().emit,{nextZIndex:r}=G();let f="";const _=h(),C=h(),l=m(!1),u=m(!1),s=m(!1),n=m(e.zIndex||r());let p,d;const v=Z("namespace",H),D=Q(()=>{const c={},I=`--${v.value}-dialog`;return e.fullscreen||(e.top&&(c[`${I}-margin-top`]=e.top),e.width&&(c[`${I}-width`]=R(e.width))),c});function F(){o("opened")}function k(){o("closed"),o(M,!1),e.destroyOnClose&&(s.value=!1)}function K(){o("close")}function S(){d==null||d(),p==null||p(),e.openDelay&&e.openDelay>0?{stop:p}=L(()=>b(),e.openDelay):b()}function g(){p==null||p(),d==null||d(),e.closeDelay&&e.closeDelay>0?{stop:d}=L(()=>T(),e.closeDelay):T()}function O(){function c(I){I||(u.value=!0,l.value=!1)}e.beforeClose?e.beforeClose(c):g()}function j(){e.closeOnClickModal&&O()}function b(){ee&&(l.value=!0)}function T(){l.value=!1}function V(){o("openAutoFocus")}function Y(){o("closeAutoFocus")}e.lockScroll&&W(l);function z(){e.closeOnPressEscape&&O()}return B(()=>e.modelValue,c=>{c?(u.value=!1,S(),s.value=!0,n.value=e.zIndex?n.value++:r(),X(()=>{o("open"),t.value&&(t.value.scrollTop=0)})):l.value&&g()}),B(()=>e.fullscreen,c=>{t.value&&(c?(f=t.value.style.transform,t.value.style.transform=""):t.value.style.transform=f)}),P(()=>{e.modelValue&&(l.value=!0,s.value=!0,S())}),{afterEnter:F,afterLeave:k,beforeLeave:K,handleClose:O,onModalClick:j,close:g,doClose:T,onOpenAutoFocus:V,onCloseAutoFocus:Y,onCloseRequested:z,titleId:_,bodyId:C,closed:u,style:D,rendered:s,visible:l,zIndex:n}},ae={inheritAttrs:!1};function ce(e,t,a,o,r,f){return A(e.$slots,"default")}var ue=x(ae,[["render",ce],["__file","/home/runner/work/element-plus/element-plus/packages/components/collection/src/collection.vue"]]);const ie={name:"ElCollectionItem",inheritAttrs:!1};function re(e,t,a,o,r,f){return A(e.$slots,"default")}var de=x(ie,[["render",re],["__file","/home/runner/work/element-plus/element-plus/packages/components/collection/src/collection-item.vue"]]);const fe="data-el-collection-item",pe=e=>{const t=`El${e}Collection`,a=`${t}Item`,o=Symbol(t),r=Symbol(a),f={...ue,name:t,setup(){const C=m(null),l=new Map;$(o,{itemMap:l,getItems:()=>{const s=N(C);if(!s)return[];const n=Array.from(s.querySelectorAll(`[${fe}]`));return[...l.values()].sort((d,v)=>n.indexOf(d.ref)-n.indexOf(v.ref))},collectionRef:C})}},_={...de,name:a,setup(C,{attrs:l}){const u=m(null),s=te(o,void 0);$(r,{collectionItemRef:u}),P(()=>{const n=N(u);n&&s.itemMap.set(n,{ref:n,...l})}),oe(()=>{const n=N(u);s.itemMap.delete(n)})}};return{COLLECTION_INJECTION_KEY:o,COLLECTION_ITEM_INJECTION_KEY:r,ElCollection:f,ElCollectionItem:_}},Te=E({trigger:le.trigger,effect:{...ne.effect,default:"light"},type:{type:i(String)},placement:{type:i(String),default:"bottom"},popperOptions:{type:i(Object),default:()=>({})},id:String,size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},loop:{type:Boolean,default:!0},showTimeout:{type:Number,default:150},hideTimeout:{type:Number,default:150},tabindex:{type:i([Number,String]),default:0},maxHeight:{type:i([Number,String]),default:""},popperClass:{type:String,default:""},disabled:{type:Boolean,default:!1},role:{type:String,default:"menu"},buttonProps:{type:i(Object)}}),Ne=E({command:{type:[Object,String,Number],default:()=>({})},disabled:Boolean,divided:Boolean,textValue:String,icon:{type:w}}),Se=E({onKeydown:{type:i(Function)}}),me=[y.down,y.pageDown,y.home],ye=[y.up,y.pageUp,y.end],be=[...me,...ye],{ElCollection:he,ElCollectionItem:Be,COLLECTION_INJECTION_KEY:Le,COLLECTION_ITEM_INJECTION_KEY:$e}=pe("Dropdown");export{$e as C,he as E,be as F,ye as L,_e as a,ve as b,Ie as c,se as d,ge as e,Te as f,pe as g,Ne as h,fe as i,Be as j,Se as k,Le as l,Oe as u};
